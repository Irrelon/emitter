!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Emitter=t()}}(function(){return function r(o,h,l){function f(e,t){if(!h[e]){if(!o[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=h[e]={exports:{}};o[e][0].call(s.exports,function(t){return f(o[e][1][t]||t)},s,s.exports,r,o,h,l)}return h[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)f(l[t]);return f}({1:[function(t,e,i){"use strict";var n=t("irrelon-overload"),s={on:new n({"string, function":function(t,e){return this.$main(t,"*",e)},"string, *, function":function(t,e,i){return this.$main(t,e,i)},$main:function(t,e,i){var n,s,r,o=this;if(n=function(t){setTimeout(function(){i.apply(o,t.args)},1)},this._listeners=this._listeners||{},this._listeners[t]=this._listeners[t]||{},this._listeners[t][e]=this._listeners[t][e]||[],this._listeners[t][e].push(i),this._emitters&&this._emitters[t]&&this._emitters[t].length)for(r=0;r<this._emitters[t].length;r++)s=this._emitters[t],"*"!==e&&s.id!==e||n(s);return this}}),once:new n({"string, function":function(t,e){var i=this,n=!1,s=function(){n||(n=!0,i.off(t,s),e.apply(i,arguments))};return this.on(t,s)},"string, *, function":function(t,e,i){var n=this,s=!1,r=function(){s||(s=!0,n.off(t,e,r),i.apply(n,arguments))};return this.on(t,e,r)}}),off:new n({string:function(t){var e=this;return this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){e.off(t)})):this._listeners&&this._listeners[t]&&delete this._listeners[t],this},"string, function":function(t,e){var i,n,s=this;return this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){s.off(t,e)})):"string"==typeof e?this._listeners&&this._listeners[t]&&this._listeners[t][e]&&delete this._listeners[t][e]:this._listeners&&this._listeners[t]&&-1<(n=(i=this._listeners[t]["*"]).indexOf(e))&&i.splice(n,1),this},"string, *, function":function(t,e,i){var n=this;if(this._emitting)this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){n.off(t,e,i)});else if(this._listeners&&this._listeners[t]&&this._listeners[t][e]){var s=this._listeners[t][e],r=s.indexOf(i);-1<r&&s.splice(r,1)}},"string, *":function(t,e){var i=this;this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){i.off(t,e)})):this._listeners&&this._listeners[t]&&this._listeners[t][e]&&delete this._listeners[t][e]}}),emit:new n({string:function(t){return this.$main(t)},"string, ...":function(t,e){return this.$main.apply(this,arguments),this},$main:function(t,e){var i,n,s,r;if((this._listeners=this._listeners||{},this._emitting=!0,this._listeners[t])&&this._listeners[t]["*"])for(n=(r=this._listeners[t]["*"]).length,i=0;i<n;i++)"function"==typeof(s=r[i])&&s.apply(this,Array.prototype.slice.call(arguments,1));return this._emitting=!1,this._processRemovalQueue(),this}}),emitId:new n({string:function(t){throw"Missing id from emitId call!"},"string, *":function(t,e){return this.$main(t,e)},"string, *, ...":function(t,e){return this.$main.apply(this,arguments),this},$main:function(t,e,i){if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[t]){var n,s,r,o;if(this._listeners[t]["*"])for(s=(o=this._listeners[t]["*"]).length,n=0;n<s;n++)"function"==typeof(r=o[n])&&r.apply(this,Array.prototype.slice.call(arguments,2));if(this._listeners[t][e])for(s=(o=this._listeners[t][e]).length,n=0;n<s;n++)"function"==typeof(r=o[n])&&r.apply(this,Array.prototype.slice.call(arguments,2))}return this._emitting=!1,this._processRemovalQueue(),this}}),emitStatic:new n({string:function(t){return this.$main(t)},"string, ...":function(t,e){return this.$main.apply(this,arguments),this},$main:function(t,e){var i,n,s,r;if((this._listeners=this._listeners||{},this._emitting=!0,this._listeners[t])&&this._listeners[t]["*"])for(n=(r=this._listeners[t]["*"]).length,i=0;i<n;i++)"function"==typeof(s=r[i])&&s.apply(this,Array.prototype.slice.call(arguments,1));return this._emitting=!1,this._emitters=this._emitters||{},this._emitters[t]=this._emitters[t]||[],this._emitters[t].push({id:"*",args:Array.prototype.slice.call(arguments,1)}),this._processRemovalQueue(),this}}),emitStaticId:new n({string:function(t){throw"Missing id from emitId call!"},"string, *":function(t,e){return this.$main(t,e)},"string, *, ...":function(t,e,i){return this.$main.apply(this,arguments),this},$main:function(t,e,i){if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[t]){var n,s,r,o;if(this._listeners[t]["*"])for(s=(o=this._listeners[t]["*"]).length,n=0;n<s;n++)"function"==typeof(r=o[n])&&r.apply(this,Array.prototype.slice.call(arguments,2));if(this._listeners[t][e])for(s=(o=this._listeners[t][e]).length,n=0;n<s;n++)"function"==typeof(r=o[n])&&r.apply(this,Array.prototype.slice.call(arguments,2))}return this._emitting=!1,this._emitters=this._emitters||{},this._emitters[t]=this._emitters[t]||[],this._emitters[t].push({id:e,args:Array.prototype.slice.call(arguments,2)}),this._processRemovalQueue(),this}}),cancelStatic:new n({string:function(t){return this.$main(t)},$main:function(t){return this._emitters=this._emitters||{},this._emitters[t]=[],this}}),willEmit:function(t){var e,i,n;if(this._listeners&&this._listeners[t]&&this._listeners[t]["*"])for(i=(n=this._listeners[t]["*"]).length,e=0;e<i;e++)if("function"==typeof n[e])return!0;return!1},willEmitId:function(t,e){if(this._listeners&&this._listeners[t]){var i,n,s;if(this._listeners[t]["*"])for(n=(s=this._listeners[t]["*"]).length,i=0;i<n;i++)if("function"==typeof s[i])return!0;if(this._listeners[t][e])for(n=(s=this._listeners[t][e]).length,i=0;i<n;i++)if("function"==typeof s[i])return!0}return!1},_processRemovalQueue:function(){var t;if(this._eventRemovalQueue&&this._eventRemovalQueue.length){for(t=0;t<this._eventRemovalQueue.length;t++)this._eventRemovalQueue[t]();this._eventRemovalQueue=[]}},deferEmit:function(t,e){var i,n=this;return this._noEmitDefer||this._db&&(!this._db||this._db._noEmitDefer)?this.emit.apply(this,arguments):(i=arguments,this._deferTimeout=this._deferTimeout||{},this._deferTimeout[t]&&clearTimeout(this._deferTimeout[t]),this._deferTimeout[t]=setTimeout(function(){n.emit.apply(n,i)},1)),this}},r=function(t,e){var i;if(void 0===t&&void 0===e&&(e=!(t={})),"boolean"==typeof t&&void 0===e&&(e=t,t={}),void 0===e&&(e=!0),"object"!=typeof t&&"function"!=typeof t)throw new Error("Cannot operate on a non-object / non-function passed as first argument!");if(e){if(void 0===t.prototype)throw new Error("Cannot modify prototype of passed object, it has no prototype property! Was it instantiated with the new operator correctly?");i=t.prototype}else i=t;return i.on=s.on,i.off=s.off,i.once=s.once,i.emit=s.emit,i.emitId=s.emitId,i.emitStatic=s.emitStatic,i.emitStaticId=s.emitStaticId,i.cancelStatic=s.cancelStatic,i.deferEmit=s.deferEmit,i.willEmit=s.willEmit,i.willEmitId=s.willEmitId,i._processRemovalQueue=s._processRemovalQueue,t};r.prototype=s,e.exports=r},{"irrelon-overload":2}],2:[function(t,e,i){"use strict";var n=function(n){if(n){var s,r,t,e,i,o,h=this;if(!(n instanceof Array)){for(s in t={},n)if(n.hasOwnProperty(s))if(-1===(e=s.replace(/ /g,"")).indexOf("*"))t[e]=n[s];else for(o=this.generateSignaturePermutations(e),i=0;i<o.length;i++)t[o[i]]||(t[o[i]]=n[s]);n=t}return function(){var t,e,i=[];if(n instanceof Array){for(r=n.length,s=0;s<r;s++)if(n[s].length===arguments.length)return h.callExtend(this,"$main",n,n[s],arguments)}else{for(s=0;s<arguments.length&&("object"===(e=typeof arguments[s])&&arguments[s]instanceof Array&&(e="array"),1!==arguments.length||"undefined"!==e);s++)i.push(e);if(t=i.join(","),n[t])return h.callExtend(this,"$main",n,n[t],arguments);for(s=i.length;0<=s;s--)if(t=i.slice(0,s).join(","),n[t+",..."])return h.callExtend(this,"$main",n,n[t+",..."],arguments)}throw"Irrelon Overload: Overloaded method does not have a matching signature for the passed arguments: "+JSON.stringify(i)}}return function(){}};n.prototype.generateSignaturePermutations=function(t){var e,i,n=[],s=["string","object","number","function","undefined"];if(-1<t.indexOf("*"))for(i=0;i<s.length;i++)e=t.replace("*",s[i]),n=n.concat(this.generateSignaturePermutations(e));else n.push(t);return n},n.prototype.callExtend=function(t,e,i,n,s){var r,o;return t&&i[e]?(r=t[e],t[e]=i[e],o=n.apply(t,s),t[e]=r,o):n.apply(t,s)},e.exports=n},{}]},{},[1])(1)});
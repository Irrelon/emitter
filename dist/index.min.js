!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Emitter=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("irrelon-overload"),e={on:new d({"string, function":function(a,b){return this.$main(a,"*",b)},"string, *, function":function(a,b,c){return this.$main(a,b,c)},$main:function(a,b,c){var d,e,f,g=this;if(d=function(a){setTimeout(function(){c.apply(g,a.args)},1)},this._listeners=this._listeners||{},this._listeners[a]=this._listeners[a]||{},this._listeners[a][b]=this._listeners[a][b]||[],this._listeners[a][b].push(c),this._emitters&&this._emitters[a]&&this._emitters[a].length)for(f=0;f<this._emitters[a].length;f++)e=this._emitters[a],("*"===b||e.id===b)&&d(e);return this}}),once:new d({"string, function":function(a,b){var c=this,d=!1,e=function(){d||(d=!0,c.off(a,e),b.apply(c,arguments))};return this.on(a,e)},"string, *, function":function(a,b,c){var d=this,e=!1,f=function(){e||(e=!0,d.off(a,b,f),c.apply(d,arguments))};return this.on(a,b,f)}}),off:new d({string:function(a){var b=this;return this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){b.off(a)})):this._listeners&&this._listeners[a]&&delete this._listeners[a],this},"string, function":function(a,b){var c,d,e=this;return this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){e.off(a,b)})):"string"==typeof b?this._listeners&&this._listeners[a]&&this._listeners[a][b]&&delete this._listeners[a][b]:this._listeners&&this._listeners[a]&&(c=this._listeners[a]["*"],d=c.indexOf(b),d>-1&&c.splice(d,1)),this},"string, *, function":function(a,b,c){var d=this;if(this._emitting)this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){d.off(a,b,c)});else if(this._listeners&&this._listeners[a]&&this._listeners[a][b]){var e=this._listeners[a][b],f=e.indexOf(c);f>-1&&e.splice(f,1)}},"string, *":function(a,b){var c=this;this._emitting?(this._eventRemovalQueue=this._eventRemovalQueue||[],this._eventRemovalQueue.push(function(){c.off(a,b)})):this._listeners&&this._listeners[a]&&this._listeners[a][b]&&delete this._listeners[a][b]}}),emit:new d({string:function(a){return this.$main(a)},"string, ...":function(a,b){return this.$main.apply(this,arguments),this},$main:function(a,b){var c="*";if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[a]){var d,e,f,g;if(this._listeners[a][c])for(g=this._listeners[a][c],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,1))}return this._emitting=!1,this._processRemovalQueue(),this}}),emitId:new d({string:function(a){throw"Missing id from emitId call!"},"string, *":function(a,b){return this.$main(a,b)},"string, *, ...":function(a,b){return this.$main.apply(this,arguments),this},$main:function(a,b,c){if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[a]){var d,e,f,g;if(this._listeners[a]["*"])for(g=this._listeners[a]["*"],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,2));if(this._listeners[a][b])for(g=this._listeners[a][b],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,2))}return this._emitting=!1,this._processRemovalQueue(),this}}),emitStatic:new d({string:function(a){return this.$main(a)},"string, ...":function(a,b){return this.$main.apply(this,arguments),this},$main:function(a,b){var c="*";if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[a]){var d,e,f,g;if(this._listeners[a][c])for(g=this._listeners[a][c],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,1))}return this._emitting=!1,this._emitters=this._emitters||{},this._emitters[a]=this._emitters[a]||[],this._emitters[a].push({id:"*",args:Array.prototype.slice.call(arguments,1)}),this._processRemovalQueue(),this}}),emitStaticId:new d({string:function(a){throw"Missing id from emitId call!"},"string, *":function(a,b){return this.$main(a,b)},"string, *, ...":function(a,b,c){return this.$main.apply(this,arguments),this},$main:function(a,b,c){if(this._listeners=this._listeners||{},this._emitting=!0,this._listeners[a]){var d,e,f,g;if(this._listeners[a]["*"])for(g=this._listeners[a]["*"],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,2));if(this._listeners[a][b])for(g=this._listeners[a][b],e=g.length,d=0;e>d;d++)f=g[d],"function"==typeof f&&f.apply(this,Array.prototype.slice.call(arguments,2))}return this._emitting=!1,this._emitters=this._emitters||{},this._emitters[a]=this._emitters[a]||[],this._emitters[a].push({id:b,args:Array.prototype.slice.call(arguments,2)}),this._processRemovalQueue(),this}}),offStatic:new d({string:function(a){return this.$main(a)},$main:function(a){return this._emitters=this._emitters||{},this._emitters[a]=[],this}}),willEmit:function(a){var b="*";if(this._listeners&&this._listeners[a]){var c,d,e,f;if(this._listeners[a][b])for(f=this._listeners[a][b],d=f.length,c=0;d>c;c++)if(e=f[c],"function"==typeof e)return!0}return!1},willEmitId:function(a,b){if(this._listeners&&this._listeners[a]){var c,d,e,f;if(this._listeners[a]["*"])for(f=this._listeners[a]["*"],d=f.length,c=0;d>c;c++)if(e=f[c],"function"==typeof e)return!0;if(this._listeners[a][b])for(f=this._listeners[a][b],d=f.length,c=0;d>c;c++)if(e=f[c],"function"==typeof e)return!0}return!1},_processRemovalQueue:function(){var a;if(this._eventRemovalQueue&&this._eventRemovalQueue.length){for(a=0;a<this._eventRemovalQueue.length;a++)this._eventRemovalQueue[a]();this._eventRemovalQueue=[]}},deferEmit:function(a,b){var c,d=this;return this._noEmitDefer||this._db&&(!this._db||this._db._noEmitDefer)?this.emit.apply(this,arguments):(c=arguments,this._deferTimeout=this._deferTimeout||{},this._deferTimeout[a]&&clearTimeout(this._deferTimeout[a]),this._deferTimeout[a]=setTimeout(function(){d.emit.apply(d,c)},1)),this}},f=function(a,b){var c;if(void 0===a&&void 0===b&&(a={},b=!1),"boolean"==typeof a&&void 0===b&&(b=a,a={}),void 0===b&&(b=!0),"object"!=typeof a&&"function"!=typeof a)throw new Error("Cannot operate on a non-object / non-function passed as first argument!");if(b){if(void 0===a.prototype)throw new Error("Cannot modify prototype of passed object, it has no prototype property! Was it instantiated with the new operator correctly?");c=a.prototype}else c=a;return c.on=e.on,c.off=e.off,c.once=e.once,c.emit=e.emit,c.emitId=e.emitId,c.emitStatic=e.emitStatic,c.emitStaticId=e.emitStaticId,c.offStatic=e.offStatic,c.deferEmit=e.deferEmit,c.willEmit=e.willEmit,c.willEmitId=e.willEmitId,c._processRemovalQueue=e._processRemovalQueue,a};f.prototype=e,b.exports=f},{"irrelon-overload":2}],2:[function(a,b,c){"use strict";var d=function(a){if(a){var b,c,d,e,f,g,h=this;if(!(a instanceof Array)){d={};for(b in a)if(a.hasOwnProperty(b))if(e=b.replace(/ /g,""),-1===e.indexOf("*"))d[e]=a[b];else for(g=this.generateSignaturePermutations(e),f=0;f<g.length;f++)d[g[f]]||(d[g[f]]=a[b]);a=d}return function(){var d,e,f=[];if(a instanceof Array){for(c=a.length,b=0;c>b;b++)if(a[b].length===arguments.length)return h.callExtend(this,"$main",a,a[b],arguments)}else{for(b=0;b<arguments.length;b++)e=typeof arguments[b],"object"===e&&arguments[b]instanceof Array&&(e="array"),f.push(e);if(d=f.join(","),a[d])return h.callExtend(this,"$main",a,a[d],arguments);for(b=f.length;b>=0;b--)if(d=f.slice(0,b).join(","),a[d+",..."])return h.callExtend(this,"$main",a,a[d+",..."],arguments)}throw'ForerunnerDB.Overload "'+this.name()+'": Overloaded method does not have a matching signature for the passed arguments: '+JSON.stringify(f)}}return function(){}};d.prototype.generateSignaturePermutations=function(a){var b,c,d=[],e=["string","object","number","function","undefined"];if(a.indexOf("*")>-1)for(c=0;c<e.length;c++)b=a.replace("*",e[c]),d=d.concat(this.generateSignaturePermutations(b));else d.push(a);return d},d.prototype.callExtend=function(a,b,c,d,e){var f,g;return a&&c[b]?(f=a[b],a[b]=c[b],g=d.apply(a,e),a[b]=f,g):d.apply(a,e)},b.exports=d},{}]},{},[1])(1)});